webpackJsonp([14,0],{0:function(e,t,a){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var n=a(11),s=i(n),o=a(207),r=i(o);new s.default({el:"#app",template:"<App/>",components:{App:r.default}})},1:function(e,t,a){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=a(12),s=i(n),o={};t.default=o;var r=s.default.create({baseURL:"http://s2.chilunyc.com:8012/",timeout:1e3,headers:{"content-type":"application/json"}}),c=location.href.indexOf("localhost")>0?0:1;o.site_links=function(){switch(c){case 0:return{index:"index.html",articledetail:"articledetail.html",forum:"forum.html",forumdetail:"forumdetail.html",signin:"signin.html",signup:"signup.html",logout:"",signinfo:"signinfo.html",usertype:"usertype.html",doctorinfo:"doctorinfo.html",baseinfo:"baseinfo.html",pathologyinfo:"pathologyinfo.html",tomour:"tomour.html",liver_function:"liverfunction.html",renal_function:"renalfunction.html",heart:"heart.html",immune:"immune.html",userpage_router:"",userpage:"userpage.html",doctorpage:"doctorpage.html",new_choices:"new-choices.html",new_index:"new-index.html",new_sub_index:"new-sub-index.html",edit_baseinfo:"edit-baseinfo.html",edit_doctorinfo:"edit-doctorinfo.html",edit_pathologyinfo:"edit-pathologyinfo.html",edit_index:"edit-index.html"};case 1:return{index:"/home",articledetail:"/article/detail",forum:"/forum",forumdetail:"/forum/post/detail",signin:"/login",signup:"/register",logout:"/logout",signinfo:"/user/supplementary_information",usertype:"/user/role",doctorinfo:"/user/basic_information/doctor",baseinfo:"/user/basic_information/user",pathologyinfo:"/user/pathologic_information",tomour:"/user/tumor_function_index/first_add",liver_function:"/user/liver_function_index/first_add",renal_function:"/user/renal_function_index/first_add",heart:"/user/heart_function_index/first_add",immune:"/user/immunity_function_index/first_add",userpage_router:"/user/home",new_choices:"/user/index_information/add/function_choose",new_index:"/user/index_information/add/important",new_sub_index:"/user/index_information/add/secondary",edit_userpage:"/user/basic_information/update",edit_pathologyinfo:"/user/pathological_information/update",edit_index:"/user/index_information/update"}}}(),o.getArticle=function(e){switch(e){case 0:return{has_login:0,articles:[{id:"1",title:"casdcasdcas1111",title_image:"",labels:["aa","bb"],release_time:"2016-03-01 10:00:00"},{id:"2",title:"casdcasdcas1111",title_image:"",labels:["aa","bb"],release_time:"2016-03-01 10:00:00"},{id:"3",title:"casdcasdcas1111",title_image:"",labels:["aa","bb"],release_time:"2016-03-01 10:00:00"},{id:"4",title:"casdcasdcas1111",title_image:"",labels:["aa","bb"],release_time:"2016-03-01 10:00:00"},{id:"5",title:"casdcasdcas1111",title_image:"",labels:["aa","bb"],release_time:"2016-03-01 10:00:00"},{id:"6",title:"casdcasdcas1111",title_image:"",labels:["aa","bb"],release_time:"2016-03-01 10:00:00"}],banners:[{title:"",image:"",labels:["ss","tt"],url:""}]};case 1:return{has_login:0,articles:[{id:"1",title:"casdcasdcas22222",title_image:"",labels:["aa","bb"],release_time:"2016-03-01 10:00:00"},{id:"2",title:"casdcasdcas2222",title_image:"",labels:["aa","bb"],release_time:"2016-03-01 10:00:00"},{id:"3",title:"casdcasdcas2222",title_image:"",labels:["aa","bb"],release_time:"2016-03-01 10:00:00"},{id:"4",title:"casdcasdcas22222",title_image:"",labels:["aa","bb"],release_time:"2016-03-01 10:00:00"},{id:"5",title:"casdcasdcas1111",title_image:"",labels:["aa","bb"],release_time:"2016-03-01 10:00:00"},{id:"6",title:"casdcasdcas1111",title_image:"",labels:["aa","bb"],release_time:"2016-03-01 10:00:00"}],banners:[{title:"",image:"",labels:["ss","tt"],url:""}]};case 2:return{has_login:0,articles:[{id:"1",title:"casdcasdcas33333",title_image:"",labels:["aa","bb"],release_time:"2016-03-01 10:00:00"},{id:"2",title:"casdcasdcas33333",title_image:"",labels:["aa","bb"],release_time:"2016-03-01 10:00:00"},{id:"3",title:"casdcasdcas33333",title_image:"",labels:["aa","bb"],release_time:"2016-03-01 10:00:00"},{id:"4",title:"casdcasdcas33333",title_image:"",labels:["aa","bb"],release_time:"2016-03-01 10:00:00"},{id:"5",title:"casdcasdcas33333",title_image:"",labels:["aa","bb"],release_time:"2016-03-01 10:00:00"},{id:"6",title:"casdcasdcas3333",title_image:"",labels:["aa","bb"],release_time:"2016-03-01 10:00:00"}],banners:[{title:"",image:"",labels:["ss","tt"],url:""}]}}},o.init_index=function(e){return r.get("home/init?article_category_id="+e+"&page=1&size=6")},o.load_more_index=function(e,t){return r.get("home/article?article_category_id="+t+"&page="+e+"&size=6")},o.init_article=function(e){return r.get("article/detail/init/"+e)},o.load_more_article=function(e,t,a,i,n,s){return r.get("forum/post?sub_section_id="+a+"&order="+t+"&genic_mutation="+i+"&disease_stage="+n+"&treatment="+s+"&page="+e+"&size=6")},o.init_forum=function(){return r.get("forum/init")},o.article_comment=function(e,t,a,i){return console.log(t+"-"+a),r.post("article/comment",{id:e,comment_id:t,comment_response_id:a,content:i})},o.post_comment=function(e,t,a,i){return r.post("forum/post/comment",{id:e,comment_id:t,comment_response_id:a,content:i})},o.article_cheer=function(e){return r.get("article/cheer/"+e)},o.post_cheer=function(e){return r.get("forum/post/cheer/"+e)},o.login=function(e,t){return r.post("login",{mobile:e,password:t})},o.logout=function(){return r.post("logout")},o.authcode=function(e,t){return r.get("verification_sms/"+e+"/"+t)},o.quicklogin=function(e,t){return r.post("quick_login",{mobile:e,verification_code:t})},o.register=function(e,t,a,i){return r.post("register",{nickname:e,mobile:t,verification_code:a,password:i})},o.supplementary_info=function(e,t){return r.post("user/supplementary_information",{nickname:e,password:t})},o.user_info=function(e){return r.post("user/basic_information",e)},o.get_index=function(e,t){return r.get("index/"+e+"/"+t)},o.get_pathologic=function(){return r.get("pathologic_data")},o.pathologic=function(e){return r.post("user/pathologic_information",e)},o.tumour=function(e){return r.post("user/tumor_function_index/first_add",{data:e})},o.liver_function=function(e){return r.post("user/liver_function_index/first_add",{data:e})},o.renal_function=function(e){return r.post("user/renal_function_index/first_add",{data:e})},o.immune=function(e){return r.post("user/immunity_function_index/first_add",{data:e})},o.heart=function(e){return r.post("user/heart_function_index/first_add",{data:e})},o.update_index=function(e,t,a){return r.post("user/index_information/update",{function:e,index:t,data:a})},o.userinfo=function(){return r.get("user/home/init")}},2:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={props:["msg"],data:function(){return{}}}},3:function(e,t){"use strict";function a(e){return e.replace(/^(\s|\u00A0)+/,"").replace(/(\s|\u00A0)+$/,"")}function i(e){return/^1(3|4|5|7|8)\d{9}$/.test(e)}function n(){var e=location.search,t=new Object;if(e.indexOf("?")!=-1)for(var a=e.substr(1),i=a.split("&"),n=0;n<i.length;n++)t[i[n].split("=")[0]]=unescape(i[n].split("=")[1]);return t}e.exports={trim:a,checkphone:i,get_request:n}},4:function(e,t){},5:function(e,t,a){var i,n;a(4),i=a(2);var s=a(6);n=i=i||{},"object"!=typeof i.default&&"function"!=typeof i.default||(n=i=i.default),"function"==typeof n&&(n=n.options),n.render=s.render,n.staticRenderFns=s.staticRenderFns,e.exports=i},6:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"wxl-toast"},[a("div",{staticClass:"wxl-toast-text"},[e._v(e._s(e.msg))])])},staticRenderFns:[]}},7:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={props:["title"],methods:{headerBackHandler:function(){}}}},8:function(e,t){},9:function(e,t,a){var i,n;a(8),i=a(7);var s=a(10);n=i=i||{},"object"!=typeof i.default&&"function"!=typeof i.default||(n=i=i.default),"function"==typeof n&&(n=n.options),n.render=s.render,n.staticRenderFns=s.staticRenderFns,e.exports=i},10:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"header"},[a("a",{staticClass:"header-arrow-left",attrs:{href:"javascript:history.back()"},on:{click:e.headerBackHandler}}),e._v(" "),a("div",{staticClass:"header-title"},[e._v(e._s(e.title))])])},staticRenderFns:[]}},107:function(e,t,a){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=a(9),s=i(n),o=a(5),r=i(o),c=a(1),d=i(c),l=a(3),u=i(l);t.default={name:"app",data:function(){return{toastshow:!1,modalshow:!1,link_load:!1,importance:1,index_name:"",toast_text:"",header_title:"关注指标",index_title:"",nextlink:"http://www.baidu.com",edit_choices_link:d.default.site_links.edit_choices,edit_sub_link:d.default.site_links.edit_sub_index,picker_arr:[],index_data:[]}},mounted:function(){var e=this;e.initIndexData(),e.initUnload()},methods:{showToast:function(){var e=this;e.toastshow||(e.toastshow=!0,setTimeout(function(){e.toastshow=!1},3e3))},initUnload:function(){var e=this;window.onbeforeunload=e.clearHandler},clearHandler:function(){var e=this;if(!e.link_load)for(var t=0;t<e.choice_data.length;t++)localStorage.removeItem(e.choice_data[t].name)},initIndexData:function(){var e=this,t=u.default.get_request();e.index_name=t.name,e.link_load=!1,e.edit_sub_link=e.edit_sub_link+"?name="+e.index_name,e.initUI(e.index_name),d.default.get_index(e.index_name,e.importance).then(function(t){if(0==t.data.code){for(var a=[],i=0;i<t.data.data.length;i++)a[i]={index:t.data.data[i].name,value:"",date:""};e.index_data=a,e.$nextTick(function(){e.initEvent()})}else e.toast_text=t.data.message,e.showToast()}).catch(function(e){console.log(e)})},initSubIndexData:function(){var e=this;d.default.get_index(e.index_name,e.importance).then(function(t){if(console.log(t),0==t.data.code){for(var a=[],i=0;i<t.data.data.length;i++)a[i]={index:t.data.data[i].name,value:"",date:""};e.index_data=a,e.$nextTick(function(){e.initEvent()})}else e.toast_text=t.data.message,e.showToast()}).catch(function(e){console.log(e)})},initUI:function(e){var t=this;switch(e){case"tumor":t.index_title="肿瘤"}},initEvent:function(){for(var e=this,t=0;t<e.index_data.length;t++)!function(t){var a=".piece-date-picker-"+t,i={picker:new MobileSelectDate,picked:!1};e.picker_arr[t]=i,e.picker_arr[t].picker.init({trigger:a,value:"2014/06/07",min:"1990/01/01",position:"bottom",callback:function(){var a=$(".piece-date-picker-"+t).attr("data-value");e.index_data[t].date=a.replace(/\,/g,"-"),e.picker_arr[t].picked=!0;for(var i=0;i<e.picker_arr.length;i++)!function(t,a){if(!e.picker_arr[t].picked){var i=a.split(",");e.picker_arr[t].picker.value=i}}(i,a)}})}(t)},backHandler:function(){var e=this;e.link_load=!0},nextHandler:function(){for(var e=this,t=!1,a=0;a<e.index_data.length;a++){if(u.default.trim(e.index_data[a].value)&&!e.index_data[a].date)return e.toast_text="第"+(a+1)+"项"+e.index_data[a].index+"报告时间还未指定！",void e.showToast();if(u.default.trim(e.index_data[a].date)&&!e.index_data[a].value)return e.toast_text="第"+(a+1)+"项"+e.index_data[a].index+"还未填写！",void e.showToast();u.default.trim(e.index_data[a].value)&&u.default.trim(e.index_data[a].date)&&(t=!0)}t&&(e.modalshow=!0,d.default.tumour(e.index_data).then(function(t){0==t.data.code?(e.setLocalStorage(),e.toast_text=t.data.message,e.showToast()):(e.toast_text=t.data.message,e.showToast())}).catch(function(e){console.log(e)}))},setLocalStorage:function(){var e=this;switch(e.index_name){case"tumor":localStorage.setItem("肿瘤",!0);break;case"liver":localStorage.setItem("肝功能",!0);break;case"renal":localStorage.setItem("肾功能",!0);break;case"heart":localStorage.setItem("心脏功能",!0);break;case"immunity":localStorage.setItem("免疫",!0);break;case"routine_blood":localStorage.setItem("血常规",!0)}},skipHandler:function(){}},components:{Fheader:s.default,Toast:r.default}}},176:function(e,t){},207:function(e,t,a){var i,n;a(176),i=a(107);var s=a(244);n=i=i||{},"object"!=typeof i.default&&"function"!=typeof i.default||(n=i=i.default),"function"==typeof n&&(n=n.options),n.render=s.render,n.staticRenderFns=s.staticRenderFns,e.exports=i},244:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("Fheader",{attrs:{title:e.header_title},on:{headerBackHandler:e.backHandler}}),e._v(" "),a("div",{staticClass:"index-title"},[e._v(e._s(e.index_title))]),e._v(" "),a("div",{staticClass:"doctor-form"},[e._l(e.index_data,function(t,i){return[a("div",{staticClass:"piece piece-with-date"},[a("p",[e._v("\n                        "+e._s(t.index)+"\n                        "),1==i?a("span",[e._v("（选填）")]):e._e()]),e._v(" "),a("div",{staticClass:"piece-date-picker",class:"piece-date-picker-"+i},[""==t.date?[e._m(0,!0)]:[a("div",{staticClass:"picker-yes"},[a("span",[e._v("已选择")]),e._v(" "),a("span",[e._v("“"+e._s(t.date)+"”")])])]],2)]),e._v(" "),a("div",{staticClass:"info-card"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.value,expression:"index_name.value"}],staticClass:"input-info",attrs:{type:"",name:"",placeholder:"请填写指标信息"},domProps:{value:e._s(t.value)},on:{input:function(e){e.target.composing||(t.value=e.target.value)}}})])]})],2),e._v(" "),a("div",{staticClass:"ft-bar-skip-next"},[a("div",{staticClass:"ft-bar-tab",on:{click:e.skipHandler}},[e._v("取消")]),e._v(" "),a("div",{staticClass:"ft-bar-tab",on:{click:e.nextHandler}},[e._v("保存")])]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.modalshow,expression:"modalshow"}],staticClass:"wxl-modal"},[a("div",{staticClass:"modal-bg"}),e._v(" "),a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-tip"},[e._v("保存成功，是否继续填写有关肿瘤次级重要指标")]),e._v(" "),a("div",{staticClass:"modal-btns"},[a("a",{staticClass:"button-modal",attrs:{href:e.edit_choices_link}},[e._v("否")]),e._v(" "),a("a",{staticClass:"button-modal",on:{click:e.initSubIndexData}},[e._v("是")])])])]),e._v(" "),a("transition",{attrs:{name:"fade"}},[e.toastshow?a("Toast",{attrs:{msg:e.toast_text}}):e._e()],1)],1)},staticRenderFns:[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"picker-not",attrs:{"data-pre-time":""}},[a("i",{staticClass:"icon-calendar"}),e._v(" "),a("span",[e._v("请选择出报告时间")])])}]}}});